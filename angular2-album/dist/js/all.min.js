"use strict";var __decorate=this&&this.__decorate||function(t,e,r,o){var n,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(a<3?n(i):a>3?n(e,r,i):n(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},core_1=require("@angular/core"),AboutComponent=function(){function t(){}return t=__decorate([core_1.Component({selector:"about-component",template:'\n        <div class="container">\n            <h1>Building yourself a simple CRUD application with Angular</h1>\n        </div>\n    '}),__metadata("design:paramtypes",[])],t)}();exports.AboutComponent=AboutComponent;var __decorate=this&&this.__decorate||function(t,e,r,o){var n,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(a<3?n(i):a>3?n(e,r,i):n(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},core_1=require("@angular/core"),router_1=require("@angular/router");require("rxjs/Rx");var album_service_1=require("./album.service"),AlbumFormComponent=function(){function t(t,e,r){this.albumService=t,this.route=e,this.router=r,this.editMode=!1,this.submitted=!1}return t.prototype.onSubmit=function(){var t=this;if(this.editMode){var e=["/artists/43ZHCT0cAZBISjO8DG9PnE"];this.albumService.update(this.album).subscribe(function(r){return t.router.navigate(e)})}else this.submitted=!0,this.editMode=!this.editMode},t.prototype.ngOnInit=function(){var t=this;this.route.params.flatMap(function(e){return t.albumService.getById(e.id)}).subscribe(function(e){return t.album=e})},t.prototype.goBack=function(){window.history.back()},t=__decorate([core_1.Component({selector:"album-form",templateUrl:"app/album-form.component.html"}),__metadata("design:paramtypes",[album_service_1.AlbumService,router_1.ActivatedRoute,router_1.Router])],t)}();exports.AlbumFormComponent=AlbumFormComponent;var __decorate=this&&this.__decorate||function(t,e,r,o){var n,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(a<3?n(i):a>3?n(e,r,i):n(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},core_1=require("@angular/core"),router_1=require("@angular/router"),album_service_1=require("./album.service"),artist_service_1=require("./artist.service"),AlbumListComponent=function(){function t(t,e,r){this.albumService=t,this.artistService=e,this.router=r}return t.prototype.onSelect=function(t){var e=["/detail",t.id];this.selectedAlbum=t,this.router.navigate(e)},t.prototype.ngOnInit=function(){var t=this;this.albumService.getAll().subscribe(function(e){return t.albums=e}),this.artistService.getAll().subscribe(function(e){return t.artists=e})},t=__decorate([core_1.Component({selector:"album-list",templateUrl:"app/album-list.component.html"}),__metadata("design:paramtypes",[album_service_1.AlbumService,artist_service_1.ArtistService,router_1.Router])],t)}();exports.AlbumListComponent=AlbumListComponent;var Album=function(){function t(t,e,r,o,n,a,i,c,u){this.id=t,this.name=e,this.type=r,this.album_type=o,this.available_markets=n,this.external_urls=a,this.href=i,this.images=c,this.uri=u}return t}();exports.Album=Album;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},__decorate=this&&this.__decorate||function(t,e,r,o){var n,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(a<3?n(i):a>3?n(e,r,i):n(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},core_1=require("@angular/core"),http_1=require("@angular/http");require("rxjs/Rx");var iservice_1=require("./iservice"),constants=require("./constants"),AlbumService=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.getAll=function(){return this.http.get(constants.ALBUMS_API_ENDPOINT).map(function(t){return t.json()}).catch(this.handleError)},e.prototype.getById=function(t){return this.http.get(constants.ALBUMS_API_ENDPOINT+t).map(function(t){return t.json()}).catch(this.handleError)},e.prototype.update=function(t){var e=new http_1.Headers({"Content-Type":"application/json"});return this.http.put(constants.ALBUMS_API_ENDPOINT+t.id,JSON.stringify(t),{headers:e}).catch(this.handleError)},e=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[http_1.Http])],e)}(iservice_1.AbstractService);exports.AlbumService=AlbumService;var __decorate=this&&this.__decorate||function(t,e,r,o){var n,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(a<3?n(i):a>3?n(e,r,i):n(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},core_1=require("@angular/core"),AppComponent=function(){function t(){this.title="Simple CRUD Angular2 App"}return t=__decorate([core_1.Component({selector:"my-app",template:'\n      <nav class="container">\n        <a routerLink="/artists/43ZHCT0cAZBISjO8DG9PnE">Album List</a>\n        <a routerLink="/about">About</a>\n      </nav>\n      <router-outlet></router-outlet>\n      '}),__metadata("design:paramtypes",[])],t)}();exports.AppComponent=AppComponent;var __decorate=this&&this.__decorate||function(t,e,r,o){var n,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(a<3?n(i):a>3?n(e,r,i):n(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},core_1=require("@angular/core"),platform_browser_1=require("@angular/platform-browser"),forms_1=require("@angular/forms"),http_1=require("@angular/http"),app_component_1=require("./app.component"),album_form_component_1=require("./album-form.component"),album_list_component_1=require("./album-list.component"),about_component_1=require("./about-component"),album_service_1=require("./album.service"),artist_service_1=require("./artist.service"),app_routing_1=require("./app.routing"),AppModule=function(){function t(){}return t=__decorate([core_1.NgModule({imports:[platform_browser_1.BrowserModule,forms_1.FormsModule,http_1.HttpModule,app_routing_1.routing],declarations:[app_component_1.AppComponent,album_form_component_1.AlbumFormComponent,album_list_component_1.AlbumListComponent,about_component_1.AboutComponent],providers:[album_service_1.AlbumService,artist_service_1.ArtistService],bootstrap:[app_component_1.AppComponent]}),__metadata("design:paramtypes",[])],t)}();exports.AppModule=AppModule;var router_1=require("@angular/router"),album_form_component_1=require("./album-form.component"),album_list_component_1=require("./album-list.component"),about_component_1=require("./about-component"),appRoutes=[{path:"artists/43ZHCT0cAZBISjO8DG9PnE",component:album_list_component_1.AlbumListComponent},{path:"create",component:album_form_component_1.AlbumFormComponent},{path:"",redirectTo:"artists/43ZHCT0cAZBISjO8DG9PnE",pathMatch:"full"},{path:"detail/:id",component:album_form_component_1.AlbumFormComponent},{path:"about",component:about_component_1.AboutComponent}];exports.routing=router_1.RouterModule.forRoot(appRoutes);var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},__decorate=this&&this.__decorate||function(t,e,r,o){var n,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(a<3?n(i):a>3?n(e,r,i):n(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},core_1=require("@angular/core"),http_1=require("@angular/http");require("rxjs/Rx");var iservice_1=require("./iservice"),constants=require("./constants"),ArtistService=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.getAll=function(){return this.http.get(constants.ARTISTS_API_ENDPOINT).map(function(t){return t.json()}).catch(this.handleError)},e.prototype.getById=function(){console.log("Not yet implemented")},e.prototype.update=function(){console.log("Not yet implemented")},e=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[http_1.Http])],e)}(iservice_1.AbstractService);exports.ArtistService=ArtistService,exports.ALBUMS_API_ENDPOINT="http://localhost:3000/albums/",exports.ARTISTS_API_ENDPOINT="http://localhost:3000/artists/";var AbstractService=function(){function t(t){this.http=t}return t.prototype.handleError=function(t){return console.error("An error occurred",t),Promise.reject(t.message||t)},t}();exports.AbstractService=AbstractService;var platform_browser_dynamic_1=require("@angular/platform-browser-dynamic"),app_module_1=require("./app.module"),platform=platform_browser_dynamic_1.platformBrowserDynamic();platform.bootstrapModule(app_module_1.AppModule);